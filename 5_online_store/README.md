# Принятие решений в бизнесе

## Статус проекта
Закончен

## Данные

В наличии были следующие данные 9 гипотез по увеличению выручки интернет-магазина и данные с результатами A/B теста:
- краткое описание гипотезы
- охват пользователей по 10-балльной шкале
- влияние на пользователей по 10-балльной шкале
- уверенность в гипотезе по 10-балльной шкале
- затраты ресурсов на проверку гипотезы по 10-балльной шкале. Чем больше значение Efforts, тем дороже проверка гипотезы
- идентификатор заказа
- идентификатор пользователя, совершившего заказ
- дата, когда был совершён заказ
- выручка заказа
- группа A/B-теста, в которую попал заказ
- дата
- группа A/B-теста
- количество пользователей в указанную дату в указанной группе A/B-теста

## Задача

Приоритизировать гипотезы, запустить A/B-тест и проанализировать результаты  

## Краткий результат

1.  была проведена приоритизация гипотез методами **ICE**, **RICE**. По модели приоритизации гипотез ICE можно сделать вывод, что наиболее перспективные для проверки : **Гипотеза 8** (ICE 16.2), **Гипотеза 0** (ICE 13.3), **Гипотеза 7** (ICE 11.2). Наименее перспективные гипотезы: **Гипотеза 4** (ICE 1), **Гипотеза 3** (ICE 1.12), **Гипотеза 5** (ICE 1.33). По модели RICE  На первое место вышла **гипотеза 7** (RICE 112), на втором месте идет **гипотеза 2** (RICE 56), далее идет **гипотеза 0** (RICE 40). И лишь на четвертом месте идет лидер по приоритизации ICE - **гипотеза 8**

2. Затем был проведен анализ результатов A/B теста. Было выяснено, что выборки наших групп не делятся идеально 50 на 50 : Количество пользователей в группе А составило 557, группе В равно 640. Также были найдены 58 пользователей, учтенных в обеих группах. С одной стороны это маленькая часть от всей выборки, однако при проведении A/B теста очень важно, чтобы все пользователи были уникальными. Было принято решение не удалять этих пользователей, но помнить о том, что они существуют при интерпретации результатов.

3. По графику кумулятивной выручки по группам видно, что сегмент B почти сразу вышел вперед, однако разница была маленькая ( 13 августа она даже почти равнялась нулю). Однако 17 августа в сегменте В произошел **резкий скачок**, и начиная с этой даты кумулятивная выручка сегмента B стала больше кумулятивной выручки сегмента A приблизительно на треть. Данный скачок может говорить о резком росте числа заказов, либо о появлении очень дорогих заказов в выборке.
4. По графику кумулятивного среднего чека по группам мы видим, что сегмент B почти всегда был лучше сегмента А, кроме небольшого промежутка приблизительно с 11 по 15 августа. Затем в районе 18 августа снова заметен резкий рост среднего чека сегмента B. Затем средний чек группы B плавно пошел на спад, а группы A снова начал плавно возрастать после 23 августа. **В целом результаты еще не до конца стабилизировались:** чек относительно установился для группы A, а для группы В продолжает падать после резкого скачка. Вероятно нужно больше времени чтобы прийти к реальному значению среднего чека.
5.  На графике относительного изменения кумулятивного среднего чека группы B к группе A видны резкие скачки. Вероятно это связано с выбросами и аномальными значениями данных. **Скорее всего аномальные заказы были совершены в даты "скачков"** на графике
6. Из графиков кумулятивной конверсии по группам видно, что в начале теста был промежуток, когда сегмент А имел большую конверсию, однако начиная **с 6 августа конверсия группы B вышла вперед и была выше на протяжении всего теста**. Конверсии обеих групп выровнились и конверсия группы B стабильно выше конверсии группы A на пол процента.
7. Анализируя график относительного изменения кумулятивной конверсии группы B к группе A мы видим, что **конверсия не зафиксировалась на одном уровне**. В начале теста был промежуток проигрыша группе А, затем резкий рост до значения прироста 20 %, однако затем спал к 10% и более плавное увеличение к 15 %. В целом отношение конверсии ещё не установилось, и сейчас делать какие-либо выводы по тесту нельзя.
8.  Затем, используя гистограммы, диаграммы рассеяния и расчет перцентилей, были определены "аномальные" заказы и стоимости.  Было решено выбрать **4 и более заказов на одного пользователя за нижнюю границу** числа заказов, и отсеять аномальных пользователей по ней. **Примем за аномальные значения стоимости заказы больше 95 перцентиля (больше 28 000)**, так как мы видим, что выбросы достаточно редки по сравнению с общей частью.
9. Затем мы провели расчет статистической значимости различий в конверсии между группами по «сырым» данным. Мы получили p_value меньше 0.05 (0.017) - значит отвергаем нулевую гипотезу - **статистические различия в конверсии между группами есть**. Относительный прирост конверсии группы B к группе A равен 0.138. Данные факты доказывают, что выборки имеют статистически значимые различия.
10. При расчете статистической значимости различий средних чеков мы получили p-value значительно больше 0.05, значит **статистического различия в среднем чеке между группами нет** Относительное различие среднего чека между группами составило 26 % - средний чек группы B значительно выше среднего чека группы А.
11. **При проверке на статистическую значимость "чистых данных" без аномалий мы снова получили статистическую значимость** и прирост конверсии группы B к группе A (p_value равно 0.018), при этом прирост конверсии группы B к группе A при использовании чистых данных увеличился на процент
12. По сравнению с данными с аномалиями, **по очищенным данным среднего чека мы получили статистическую значимость!** Это значит, что после удаления выбросов в данных стало меньше шума, снизилась дисперсия. Однако вместо прироста в группе B наблюдается падение среднего чека, что немного непонятно для меня, так как группа B лидирует по всем метрикам

## Используемые библиотеки
*pandas*, *numpy*, *matplotlib*, *datetime*, *seaborn*, *scipy*

